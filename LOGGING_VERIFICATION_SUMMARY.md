# –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

## ‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–ü—Ä–æ–≤–µ–¥—ë–Ω –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –ò–∑—É—á–µ–Ω—ã —Ñ–∞–π–ª—ã: `LogManager.kt`, `SettingsRepository.kt`, `SettingsRepositoryImpl.kt`, `AppLogger.kt`, `FileLogger.kt`
   - –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ `KotopogodaUploaderApp.kt`
   - –ò–∑—É—á–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

2. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é**
   - ‚úÖ `appLogging = preferences[APP_LOGGING_KEY] ?: true` (—Å—Ç—Ä–æ–∫–∞ 50, SettingsRepositoryImpl.kt)
   - ‚úÖ `httpLogging = preferences[HTTP_LOGGING_KEY] ?: true` (—Å—Ç—Ä–æ–∫–∞ 51, SettingsRepositoryImpl.kt)
   - ‚úÖ –û–±–∞ –≤–∏–¥–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

3. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `Timber.DebugTree()` –¥–ª—è DEBUG –±–∏–ª–¥–æ–≤ - —Ç–µ–ø–µ—Ä—å –ª–æ–≥–∏ –≤–∏–¥–Ω—ã –≤ `adb logcat`
   - ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –¥–≤–æ–π–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `appLogger` –∏ `httpLoggingController`
   - ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —á–∏—Ç–∞—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - ‚úÖ –£–±—Ä–∞–Ω–∞ –±–µ–∑—É—Å–ª–æ–≤–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ –ø–æ–ª—å–∑—É —á—Ç–µ–Ω–∏—è –∏–∑ `SettingsRepository`

4. **–°–æ–∑–¥–∞–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç—ã**
   - ‚úÖ `LOGGING_VERIFICATION_REPORT.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞
   - ‚úÖ `TESTING_INSTRUCTIONS.md` - –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
   - ‚úÖ `LOGGING_VERIFICATION_SUMMARY.md` - —ç—Ç–æ—Ç –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç

5. **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**
   - ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è: `./gradlew :app:compileDebugKotlin` - SUCCESS
   - ‚úÖ Unit-—Ç–µ—Å—Ç—ã: `./gradlew :app:testDebugUnitTest` - 15 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ
   - ‚ö†Ô∏è Lint: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã 3 –æ—à–∏–±–∫–∏, –Ω–æ –æ–Ω–∏ –Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å –Ω–∞—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ (themes.xml, API level checks)

---

## üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–æ** | ‚úÖ –î–∞ (appLogging=true, httpLogging=true) |
| **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ª–æ–≥–æ–≤** | `/data/data/com.kotopogoda.uploader/files/logs/` |
| **–ò–º—è —Ñ–∞–π–ª–∞** | `app.log`, `app.1.log`, ..., `app.4.log` |
| **–†–æ—Ç–∞—Ü–∏—è** | 5 —Ñ–∞–π–ª–æ–≤ –ø–æ 1 MB –∫–∞–∂–¥—ã–π |
| **–§–æ—Ä–º–∞—Ç** | `[YYYY-MM-DD HH:MM:SS.mmm][LEVEL] TAG: message` |
| **–°—Ç–µ–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π** | –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é |
| **–õ–æ–≥–∏ –≤ logcat (DEBUG)** | ‚úÖ –î–∞ (—á–µ—Ä–µ–∑ DebugTree) |
| **–õ–æ–≥–∏ –≤ logcat (RELEASE)** | ‚ùå –ù–µ—Ç (—Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤—ã–µ) |

---

## üîç –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

- ‚úÖ –°—Ç–∞—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`APP/START`)
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ (`CFG/STATE`)
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (`PERM/STATE`)
- ‚úÖ WorkManager —Å–æ–±—ã—Ç–∏—è (`WORK/Factory`)
- ‚úÖ –§–∞—Ç–∞–ª—å–Ω—ã–µ –∫—Ä—ç—à–∏ (`FATAL/CRASH`)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ ML –º–æ–¥–µ–ª–µ–π (–æ—à–∏–±–∫–∏)
- ‚úÖ Enhance –æ–ø–µ—Ä–∞—Ü–∏–∏ (verbose –≤ DEBUG)
- ‚úÖ –°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–µ—Å–ª–∏ httpLogging –≤–∫–ª—é—á—ë–Ω)
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –∏ –æ—á–µ—Ä–µ–¥—å—é

---

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

```bash
# –°–±–æ—Ä–∫–∞
./gradlew :app:assembleDebug

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
adb install -r app/build/outputs/apk/debug/app-debug.apk

# –ó–∞–ø—É—Å–∫
adb shell am start -n com.kotopogoda.uploader/.MainActivity

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª–∞—Ö
adb shell "run-as com.kotopogoda.uploader cat /data/data/com.kotopogoda.uploader/files/logs/app.log"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –≤ logcat (DEBUG –±–∏–ª–¥)
adb logcat | grep -E "WorkManager|app|Enhance|NativeEnhance"
```

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–º. –≤ **[TESTING_INSTRUCTIONS.md](./TESTING_INSTRUCTIONS.md)**

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|----------|--------|-------------|
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é | ‚úÖ | `true` –¥–ª—è –æ–±–æ–∏—Ö –≤–∏–¥–æ–≤ |
| –õ–æ–≥–∏ –≤–∏–¥–Ω—ã –≤ logcat | ‚úÖ | DEBUG –±–∏–ª–¥—ã (—á–µ—Ä–µ–∑ DebugTree) |
| –õ–æ–≥–∏ –≤–∏–¥–Ω—ã –≤ —Ñ–∞–π–ª–∞—Ö | ‚úÖ | `/data/data/.../files/logs/app.log` |
| –°–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é | ‚úÖ | –ö–∞—Ç–µ–≥–æ—Ä–∏–∏, –¥–µ–π—Å—Ç–≤–∏—è, –¥–µ—Ç–∞–ª–∏ |
| –ü–æ–ª–Ω—ã–µ —Å—Ç–µ–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π | ‚úÖ | `Log.getStackTraceString(t)` |
| –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã | ‚úÖ | –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏, —É—Ä–æ–≤–Ω–∏, —Ç–µ–≥–∏ |
| –†–æ—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ | 5 —Ñ–∞–π–ª–æ–≤ –ø–æ 1MB |
| –≠–∫—Å–ø–æ—Ä—Ç –¥–æ—Å—Ç—É–ø–µ–Ω | ‚úÖ | `LogManager.writeLogsArchive()` |
| –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞ | ‚úÖ | –ù–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ |
| –ö–æ–º–ø–∏–ª—è—Ü–∏—è | ‚úÖ | –£—Å–ø–µ—à–Ω–æ |
| Unit-—Ç–µ—Å—Ç—ã | ‚úÖ | 15/15 –ø—Ä–æ—à–ª–∏ |

---

## üéØ –ö–æ–º–º–∏—Ç—ã

1. **feat: –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç—á—ë—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é** (f80aa39)
   - –°–æ–∑–¥–∞–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç LOGGING_VERIFICATION_REPORT.md
   - –î–æ–±–∞–≤–ª–µ–Ω Timber.DebugTree() –¥–ª—è DEBUG –±–∏–ª–¥–æ–≤
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –¥–≤–æ–π–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è appLogger –∏ httpLoggingController
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∏—Ç–∞—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

2. **docs: –¥–æ–±–∞–≤–∏—Ç—å –∫—Ä–∞—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** (34ac4c4)
   - –°–æ–∑–¥–∞–Ω TESTING_INSTRUCTIONS.md
   - –ü–æ—à–∞–≥–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –°—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –°–æ–±—Ä–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å APK –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏–∑ `TESTING_INSTRUCTIONS.md`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (logcat.txt, app_logs.txt, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã)

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∏ –≤–∫–ª—é—á–µ–Ω–æ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é
2. –í DEBUG –±–∏–ª–¥–∞—Ö –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ logcat –∏ —Ñ–∞–π–ª—ã
3. –í RELEASE –±–∏–ª–¥–∞—Ö –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª—ã (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –¥–ª—è –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç–∞

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ Lint –ø—Ä–æ–±–ª–µ–º—ã (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):
- `themes.xml:10` - windowLayoutInDisplayCutoutMode (API 27, minSdk 26)
- –ù–µ—Å–∫–æ–ª—å–∫–æ InlinedApi warnings –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ –∫–æ–¥–µ)
- –û–¥–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ LogNotTimber –≤ fallback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ (–¥–æ–ø—É—Å—Ç–∏–º–æ)

**–≠—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∏ –¥–æ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –∏ –Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.**

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
- ‚úÖ –í–∫–ª—é—á–µ–Ω–æ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- ‚úÖ –í—Å–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Å–±–æ—Ä–∫–µ APK (107MB) –∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.**

---

*–î–∞—Ç–∞: 2024*  
*–í–µ—Ç–∫–∞: `verify-logging-enabled-on-real-device`*  
*–°—Ç–∞—Ç—É—Å: ‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞*
